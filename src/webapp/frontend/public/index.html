<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Music!</title>
	<link rel="icon" type="image/jpg" href="favicon.jpg" />
	<!--Load all of the libraries we use. -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.4/angular-material.css" integrity="sha256-5H4J2C8IFd1dYlIhKP4osNNuNeDmAyWiu03ZoK12iCU=" crossorigin="anonymous" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular.js" integrity="sha256-R7BLQ3qJtH4loVlfCljvFVWk7z/llcALpaFFH61iX6E=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-animate.js" integrity="sha256-LVlxCneTEVlhPoUHVwG+9kxyH4PbIhmQKp/6snSt//4=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-route.js" integrity="sha256-abzDH62eUIiLJAOiiWLn/KEJuH+e30wSvbsPMQ1VaKk=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-aria.js" integrity="sha256-hTs+/2nK9WYK+n9MfL4bxP0B595PnOECAINV0QlFEg0=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-messages.js" integrity="sha256-oLPV/2bipUt5rpHzk9B8R6qLBLjFZlZCwEfkVEIo41g=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.4/angular-material.js" integrity="sha256-PDeehVA91PmQOO3EIj30zcnew9F/tF+AyppKGxgJctQ=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-xeditable/0.8.1/css/xeditable.css" integrity="sha256-6XutsLHThe0cWIoQIzefOIzfBezGg4K9C8OA48EZUD8=" crossorigin="anonymous" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-xeditable/0.8.1/js/xeditable.js" integrity="sha256-9cxXHxWC1TYD7mPqdsAY52YZyUjdvEK6Iz3TOhot29s=" crossorigin="anonymous"></script>
	<!--Change this line depending on where one is hosting-->
	<script src="/script.js" type="text/javascript"></script>
</head>
<style>
</style>
<body id="body" layout="column" flex>
	<div ng-app='musicViewer'>
		<div id="mainContentDiv" ng-controller="musicCtr as mainView">
			<div id="mainViewDiv">
				<div id="mainViewAngularControllerContent">
					<md-content md-theme="docs-dark" layout-gt-sm="row" ng-cloak>
						<md-toolbar>
							<div style="heigth:fit-content;position:absolute;bottom:0;">
								<md-button ng-click="mainView.openRightPanel()">
									<md-icon>
										<!-- Hamburger menu svg icon -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
									</md-icon>
								</md-button>
							</div>
			  			</md-toolbar>
					</md-content>
					<div>
						<!-- this is the right hand side-nav menu. This is the menu that opens when the hamburger menu icon in upper right hand area is clicked. This handles multiple user actions. Mostly playlist actions, but also uploading files. -->
						<!-- Using demo code from https://material.angularjs.org/latest/demo/sidenav -->
						<md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right" ng-cloak>
							<md-toolbar class="md-theme-light" style="background-color:rgb(33,150,243);">
								<h1 class="md-toolbar-tools">Menu</h1>
							</md-toolbar>
							<md-content layout-padding>
								<!-- Form for uploading music files -->
								<form id="file-upload" action="/uploadmultiple"  enctype="multipart/form-data" method="POST">
									<md-menu-item id="uploadMenuItem">
										<!-- This selects the actual files to upload. 
											Once the files are selecting this button 
											will be set to display none and replaced by 
											a button to click to upload. That button can 
											but will rarely be clicked, because JS automatically 
											clicks when files are selected using event handlers. -->
										<md-button id="selectMusicButton" onclick='(document.getElementById("selectMusicToUpload")).click();'>
											Select Music to Upload
											<!--  Note that this input is set to display none and is invisible. 
												This enables components consistent with angular stylings and the 
												native actions of the input form are activated via javascript-->
											<input id="selectMusicToUpload" style="display:none" type="file" name="multiFileUploadForm" accept="audio/*" onchange='(document.getElementById("uploadMenuItem")).style.display="none";(document.getElementById("startUploadMenuItem")).style.display="block";(document.getElementById("uploadMusicButton")).click();' multiple/>
										</md-button>
									</md-menu-item>
									<md-menu-item id="startUploadMenuItem" style="display:none">
										<!-- Button to upload selected fiels. 
											This will often be clicked automatically via event handler. 
											Notice, the angular md-button clicks the invisible one using JS .click() -->
										<md-button onclick='(document.getElementById("uploadMusicButton")).click();'>
											Upload Selected Music
											<!--  Note that this input is set to display none and is invisible.
												This enables components consistent with angular stylings and the 
												native actions of the input form are activated via javascript-->
											<input id="uploadMusicButton" style="display:none" type="submit" value="Add to libary"/>
										</md-button>
									</md-menu-item>
								</form>
								<md-menu-item>
									<md-button ng-click="mainView.closeRightPanel()" class="md-primary">
										Close Menu
									</md-button>
								</md-menu-item>
							</md-content>
						</md-sidenav>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
